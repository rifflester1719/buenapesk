var DevSolutionSkill = {
    init: function (e, t) {
        this.diagram(e)
    },
    diagram: function (e) {
        var t = e,
            n = 200,
            r = 200,
            i = n / 2,
            s = r / 2,
            o = jQuery("#" + e).data("forground") ? jQuery("#" + e).data("forground") : "#cfcfcf",
            u = jQuery("#" + e).data("background") ? jQuery("#" + e).data("background") : "#66cc99",
            f = 3,
            how=1,
            l = jQuery("#" + e).data("percent"),
            c = 12,
            h = jQuery("#" + e).data("fontsize") ? jQuery("#" + e).data("fontsize") : "0px",
            p = jQuery("#" + e).data("percentsize") ? jQuery("#" + e).data("percentsize") : "0px",
            d = jQuery("#" + e).data("fontcolor") ? jQuery("#" + e).data("fontcolor") : "#fff",
            v = jQuery("#" + e).data("font") ? jQuery("#" + e).data("font") : "Lato";
        if (l == 180) {
            c = 90
        } else if (l < 20) {
            c = 40
        } else if (l > 180) {
            alert("you can't set more then 100");
            return false
        }
        var m = Raphael(t, n, r);
        m.customAttributes.arc = function (e, t, n) {
            var r = 3.6 * e,
                o = r == 360 ? 359.99 : r,
                u = 90;
            a = (u - o) * Math.PI / 180, b = u * Math.PI / 180, sx = i + n * Math.cos(b), sy = s - n * Math.sin(b), x = i + n * Math.cos(a), y = s - n * Math.sin(a), path = [
                ["M", sx, sy],
                ["A", n, n, 0, +(o > 180), 1, x, y]
            ];
            return {
                path: path,
                stroke: t
            }
        };
        var g = m.path().attr({
            arc: [100, o, 90],
            "stroke-width": f
        });
        var w = m.path().attr({
            arc: [l, u, 90],
            "stroke-width": f + 7
        });
        w.animate({
            transform: "r360" + "," + 100 + "," + 100
        }, 2e3);
        var E = m.text(n, r, l).attr({
            font: h + " " + v,
            fill: d,
            cx: 0,
            cy: 0,
            x: i - 6,
            y: s
        }).toFront();
        E.stop().animate({
            opacity: 0
        }, 0, ">", function () {
            this.attr({
                text: l
            }).animate({
                opacity: 1
            }, 2e3, "<")
        });
        var S = m.text(n, r, "%").attr({
            font: p + " " + v,
            fill: d,
            cx: 0,
            cy: 0,
            x: i + c,
            y: s + 0
        }).toFront();
        S.stop().animate({
            opacity: 0
        }, 0, ">", function () {
            this.attr({
                text: "%"
            }).animate({
                opacity: 1
            }, 2e3, "<")
        })
    }
}